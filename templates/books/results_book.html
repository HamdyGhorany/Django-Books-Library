{% extends 'base.html' %}

{% block content %}

{% for book in results %}
<div class="card mb-2" style="margin-left:10%; margin-right:10%;">
    <div class="card-body p-3" >
        <div class="row">
            <div class="col-2">
                <img src="{{ book.image }}" class="center">
            </div>

    <div class="col-10">
        <div class="row mb-3">
            <div class="col-6">
                <p><strong class="text-dark">{{ book.title }}</strong></p>
                <small class="text-muted">{{ book.author }}</small>
                <br>
            </div>
            <div class="col-6" style="text-align:right;">
                <small class="text-muted">ID: {{ book.id }}</small>
            </div>
        </div>

        <hr class="my-4">
        {% if book.description == None %}
        There is no description :(
        {% else %}
        {{ book.description }}
        {% endif %}
        {{ book.user }}
        <p>
             <br>
            {% load define_action %}
            {% ifequal book.status|stringformat:"s" "added" %}
                {% define "Delete" as action %}
                {% define "danger" as color %}
            {% else %}
                {% define "Add" as action %}
                {% define "primary" as color %}
            {% endifequal %}

                <div type="text/css" class = "container"></div>
                <a class="addbutton btn btn-{{ color }} btn-lg" id="like{{ book.id }}" href="#" data-catid="{{ book.id }}">{{ action }}</a>
                </p><p id="message{{book.id}}"></p>
                </div>
            </p>

        </div>
    </div>
</div>


{% endfor %}

<footer>
    <p><small><em>Created by<a href="https://github.com/AdamMisiak"> Adam Misiak</a></em></small></p>
    <a id="back-to-top" href="#">Top</a>
</footer>


<script src="/static/js/book_result_script.js"></script>
<script src="/static/js/back_to_top_script.js"></script>

{% endblock %}